const Student = require("../models/student");
const applyInternController = {
  signUpCVForSupport: async (req, res) => {
    try {
      const filter = { mssv: req.body.user_code };

      const findStudent = await Student.findOne(filter);
      if (!findStudent) {
        res.status(404).json("Wrong student");
      }

      if (findStudent) {
        const update = await {
          address: req.body.address,
          dream: req.body.dream,
          email: req.body.email,
          majors: req.body.majors,
          name: req.body.name,
          phoneNumber: req.body.phone,
          CV: req.body.CV,
        };

        const user = await Student.findOneAndUpdate(filter, update);
        res.status(200).json(user);
      }
    } catch (error) {
      res.status(500).json(error);
    }
  },
};

module.exports = applyInternController;
